<template>
  <editor-content :editor="editor" :class="isFocused ? 'is_focus' : ''"/>
</template>

<script>
import { Editor, EditorContent } from '@tiptap/vue-2'
import StarterKit from '@tiptap/starter-kit'

export default {
  components: {
    EditorContent
  },

  data () {
    return {
      editor: null
    }
  },
  computed: {
    // ç¼–è¾‘å™¨èšç„¦
    isFocused () {
      return this.editor && this.editor.isFocused
    }
  },
  mounted () {
    this.editor = new Editor({
      content: 'Iâ€™m running Tiptap with Vue.js. ğŸ‰',
      extensions: [
        StarterKit.configure({
          // paragraph: {
          //   draggable: true
          // }
        })
      ]
    })
  },

  beforeDestroy () {
    this.editor.destroy()
  }
}
</script>

<style>
.ProseMirror {
  border-radius: 5px;
  background: #fff;
  padding: 10px;
  /* å»é™¤contenteditableå…ƒç´  èšç„¦æ—¶çš„è“è‰²å¤–çº¿*/
  outline: none;
}

.ProseMirror p {
  margin: 0;
}

.ProseMirror:hover {
  border: 1px dashed rgb(24, 144, 255) !important;
}
.is_focus > .ProseMirror {
  border: 1px solid rgb(24, 144, 255) !important;
}

</style>
